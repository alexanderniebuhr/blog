# yaml-language-server: $schema=https://moonrepo.dev/schemas/project.json

type: "library" 
language: 'typescript'

tasks:
  trigger:
    inputs:
      - 'src/**/*'

  generate:
    command: "drizzle-kit generate:pg"
    options:
      cache: false

  migrate:
    env:
      DATABASE_URL: 'postgresql://alexanderniebuhr:4fAcCx1uWnwG@ep-throbbing-water-513878.us-east-2.aws.neon.tech/neondb'
    command: "tsx migrate.ts"
    options:
      cache: false
